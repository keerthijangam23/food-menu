<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Details</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div id="productDetails"></div>
    <script>
      //code excuted when the dom content fully loaded
      document.addEventListener("DOMContentLoaded", function () {
        //to get the product id from the URL paramters
        //window.location - It's an object that contains information about the current URL,including details like the protocol(http or https),host,port,search paramters.
        //window.location.search-->specifically represents query string part of URL,The query string is the portion of the URL that follows the "?" character and includes key-value pairs separated by "&"
        // URLSearchParams -->It takes the query string (in this case, window.location.search) as an argument and parses it, allowing us to easily manipulate and retrieve individual parameters.
        const urlParams = new URLSearchParams(window.location.search);
        //will return the id value of the "id" parameter in the URL.
        const productId = urlParams.get("id");

        //find the product with the matching id from the products data.
        const selectedProduct = products.data.find(
          (product) => product.id == productId
        );

        //check if a product with the given id was found or not
        if (selectedProduct) {
          //display the product details on the page
          displayProductDetails(selectedProduct);
        } else {
          //displaying message if the product with the given id not found
          document.getElementById("productDetails").innerHTML =
            "Product Not Found";
        }
      });

      //function to display food details
      function displayProductDetails(product) {
        const productDetailsContainer =
          document.getElementById("productDetails");

        //creating html elements to display product details.
        const productName = document.createElement("h2");
        productName.innerText = product.foodName.toUpperCase();

        const price = document.createElement("h3");
        price.innerText = "$" + product.price;

        const image = document.createElement("img");
        image.setAttribute("src", product.image);

        const description = document.createElement("p");
        description.innerText = product.description;

        //append elements to the  productDetails id container
        productDetailsContainer.appendChild(productName);
        productDetailsContainer.appendChild(price);
        productDetailsContainer.appendChild(image);
        productDetailsContainer.appendChild(description);
      }
    </script>
    <script src="index.js"></script>
  </body>
</html>
